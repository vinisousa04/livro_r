<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Título aqui</title>
  <meta name="description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Título aqui" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados" />
  <meta name="github-repo" content="vinisousa04/livro_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Título aqui" />
  
  <meta name="twitter:description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #0000ff; } /* Keyword */
code > span.ch { color: #008080; } /* Char */
code > span.st { color: #008080; } /* String */
code > span.co { color: #008000; } /* Comment */
code > span.ot { color: #ff4000; } /* Other */
code > span.al { color: #ff0000; } /* Alert */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #008000; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #008080; } /* SpecialChar */
code > span.vs { color: #008080; } /* VerbatimString */
code > span.ss { color: #008080; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #0000ff; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ff4000; } /* Preprocessor */
code > span.do { color: #008000; } /* Documentation */
code > span.an { color: #008000; } /* Annotation */
code > span.cv { color: #008000; } /* CommentVar */
code > span.at { } /* Attribute */
code > span.in { color: #008000; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#para-quem-e-este-livro"><i class="fa fa-check"></i>Para quem é este livro?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#o-que-voce-vai-aprender-com-este-livro"><i class="fa fa-check"></i>O que você vai aprender com este livro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html"><i class="fa fa-check"></i><b>1</b> Estruturas de Dados</a><ul>
<li class="chapter" data-level="1.1" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#modes"><i class="fa fa-check"></i><b>1.1</b> Tipos de dados</a></li>
<li class="chapter" data-level="1.2" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#vetores"><i class="fa fa-check"></i><b>1.2</b> Vetores</a><ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#criando-vetores"><i class="fa fa-check"></i>Criando Vetores</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#acessando-elementos"><i class="fa fa-check"></i>Acessando elementos</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#operacoes-vetorizadas"><i class="fa fa-check"></i>Operações Vetorizadas</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#reciglagem"><i class="fa fa-check"></i>Reciglagem</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#matrizes"><i class="fa fa-check"></i><b>1.3</b> Matrizes</a><ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#criando-matrizes"><i class="fa fa-check"></i>Criando Matrizes</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#acessando-elementos-1"><i class="fa fa-check"></i>Acessando Elementos</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#operacoes-com-matrizes"><i class="fa fa-check"></i>Operações com matrizes</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#data-frames"><i class="fa fa-check"></i><b>1.4</b> Data Frames</a></li>
<li class="chapter" data-level="1.5" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#listas"><i class="fa fa-check"></i><b>1.5</b> Listas</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Título aqui</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="estruturas_de_dados" class="section level1">
<h1><span class="header-section-number">1</span> Estruturas de Dados</h1>
<p>Neste capítulo vamos apresentar ao leitor os tipos de dados e estruturas de dados fundamentais do R. Nota-se que não são apresentados todos os tipos e estruturas de dados, entretanto garantimos que os aqui apresentados serão o suficiente para resolver quase todos (se não todos) os problemas e aplicações que o leitor se deparar com. Também ressalvamos que talvez esse capítulo seja o mais importante desta parte do livro, pois um bom entendimento sobre os tipos de informações e como elas são armazenadas (dentro do R) é essencial para o desenvolvimento de habilidades para lidar com dados.</p>
<p>Sem mais delongas os tipo de dados são como uma determinada informação pode ser registrada e já as estruturas de dados são como as informações são armazenadas de modo que possam ser utilizadas, um pouco abstrata essa explicação até agora não acham? Bem, uma analogia que pode ajudar a compreender a <strong>diferença entre tipos de dados e estruturas de dados</strong> é a seguinte: Acredito que seja familiar a todos o final do filme Toy Story (o primeiro da trilogia), quando o Woody e o Buzz perdem o caminhão da mudança contratado pela Mãe do Andy (digo mãe e não família pois o Pai do Andy é um mistério). Bem se recordarmos bem alguns brinquedos o Andy trouxe com ele dentro do carro (em especial teria trazido o Woody e o Buzz) e ao mesmo tempo outro brinquedos estavam sendo transportados no caminhão. Onde eu quero chegar com isso? Os brinquedos seriam um tipo de informação (no caso de uma mudança poderíamos pensar que as roupas seriam outro tipo de informação) e o caminhão da transportadora e o carro da mão do Andy seriam as diferentes estruturas nas quais é possível carregar os dados.</p>
<p>Com a diferença entre tipos e estruturas de dados explicada vamos agora apresentar ao leitor explicitamente o funcionamento de tais coisas no R. Começamos apresentando os tipos de dados e em seguida as estrutura.</p>
<div id="modes" class="section level2">
<h2><span class="header-section-number">1.1</span> Tipos de dados</h2>
<p>Para apresentar os diferentes tipos de como as informações podem ser armazenadas vamos utilizar uma base fictícia de empregados apresentada na tabela <a href="estruturas-de-dados.html#tab:empregados">1.1</a>. Nela temos 6 colunas representando diferentes variáveis.</p>
<table>
<caption><span id="tab:empregados">Table 1.1: </span>Empregados</caption>
<thead>
<tr class="header">
<th align="left">Nome</th>
<th align="right">Tempo_emprego</th>
<th align="left">Setor</th>
<th align="right">Peso</th>
<th align="left">Nascimento</th>
<th align="left">Casado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Shannon</td>
<td align="right">1</td>
<td align="left">Financeiro</td>
<td align="right">38.73</td>
<td align="left">1999-01-30</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Shauna</td>
<td align="right">2</td>
<td align="left">Estrutura</td>
<td align="right">42.46</td>
<td align="left">1999-12-25</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Shishan</td>
<td align="right">3</td>
<td align="left">Marketing</td>
<td align="right">36.80</td>
<td align="left">2000-01-01</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Matthew</td>
<td align="right">4</td>
<td align="left">Estrutura</td>
<td align="right">39.49</td>
<td align="left">1999-04-23</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Taylor</td>
<td align="right">5</td>
<td align="left">Marketing</td>
<td align="right">48.67</td>
<td align="left">1999-01-10</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Saleet</td>
<td align="right">6</td>
<td align="left">Marketing</td>
<td align="right">40.32</td>
<td align="left">1999-01-26</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Zuhra</td>
<td align="right">7</td>
<td align="left">Financeiro</td>
<td align="right">40.75</td>
<td align="left">1999-05-23</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Guadalupe</td>
<td align="right">8</td>
<td align="left">Estrutura</td>
<td align="right">40.96</td>
<td align="left">1999-10-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Shaamila</td>
<td align="right">9</td>
<td align="left">Marketing</td>
<td align="right">41.20</td>
<td align="left">1999-10-18</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Amniyya</td>
<td align="right">10</td>
<td align="left">Marketing</td>
<td align="right">41.56</td>
<td align="left">1999-01-02</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Cada coluna possui um tipo diferente de informação e cada informação é armazenada de um jeito diferente. A lista abaixo sintetiza os tipos de dados e a coluna da tabela com a qual ela está relacionada<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<ul>
<li>Character (ou string): São caracteres textuais que podem assumir qualquer valor. Na tabela é a coluna relaciona ao Nome. Os elementos dos vetores de caracteres devem estar entre aspas <code>&quot;elemento&quot;</code>;</li>
<li>Integer: São números inteiros, neste caso relacionado com a coluna idade;</li>
<li>Double: São números decimais, neste caso relacionado à coluna de peso;</li>
<li>Factor: São caracteres textuais mais podem assumir somente um determinado tipo de valor. Neste caso seria a coluna que traz o setor no qual o empregado trabalha. Outro exemplo de factor seria o tipo sanguíneo em um banco de dados de pacientes;</li>
<li>Dates: São valores textuais que são interpretados como datas, neste caso relacionado à coluna nascimento;</li>
<li>Logical: Assumem o valor <code>TRUE</code> ou <code>FALSE</code>, também chamados de valores booleanos.</li>
</ul>
<p>A função <code>str()</code> permite verificar a estrutura dos nossos objetos, o chunk abaixo mostra a utilização da função na nossa base de dados de empregados</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">str</span>(empregados)
<span class="co"># &#39;data.frame&#39;: 10 obs. of  6 variables:</span>
<span class="co">#  $ Nome         : chr  &quot;Shannon&quot; &quot;Shauna&quot; &quot;Shishan&quot; &quot;Matthew&quot; ...</span>
<span class="co">#  $ Tempo_emprego: int  1 2 3 4 5 6 7 8 9 10</span>
<span class="co">#  $ Setor        : Factor w/ 3 levels &quot;Estrutura&quot;,&quot;Financeiro&quot;,..: 2 1 3 1 3 3 2 1 3 3</span>
<span class="co">#  $ Peso         : num  38.7 42.5 36.8 39.5 48.7 ...</span>
<span class="co">#  $ Nascimento   : Date, format: &quot;1999-01-30&quot; &quot;1999-12-25&quot; ...</span>
<span class="co">#  $ Casado       : logi  FALSE TRUE FALSE FALSE TRUE FALSE ...</span></code></pre></div>
<p>Seguindo na nossa analogia da mudança as estruturas de dados seriam os meios através dos quais podemos transportar os objetos de uma casa para outro, como carros, caminhões etc. Deste modo, nesta seção vamos apresenta ao leitor o que são e exemplos de como construir: (i) Vetores, (ii) Matrizes, (iii) Data frames e (iv) Listas</p>
</div>
<div id="vetores" class="section level2">
<h2><span class="header-section-number">1.2</span> Vetores</h2>
<p>É a estrutura mais básica (e fundamental) do R. De maneira objetiva um <strong>vetor é uma sequência de elementos do mesmo tipo</strong>. Agora vamos introduzir aqui 4 aspectos importantes sobre vetores.</p>
<div id="criando-vetores" class="section level3 unnumbered">
<h3>Criando Vetores</h3>
<p>Há diversas maneiras de se criar vetores e a sua imaginação é de fato o limite, porém há jeitos mais triviais que são muito utilizados. Dois destes triviais são através da função concatenar, <code>c()</code>, e a função sequência, <code>seq()</code>. O chunk abaixo ilustra maneiras diferentes de se criar a sequência 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)
<span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span>
&gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">10</span>)
<span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span>
&gt;<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">10</span>, <span class="dt">by=</span><span class="dv">1</span>)
<span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span>
&gt;<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">length.out =</span> <span class="dv">10</span>,<span class="dt">by =</span> <span class="dv">1</span>)
<span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Quando quisermos salvar um determinado vetor em um objeto <code>x</code>, basta utilizarmos o operador de atribuição <code>&lt;-</code> da seguinte maneira <code>x &lt;- c(1:10)</code>.</p>
<p>A lógica é a mesma para criar vetores com outros tipos de dados, como por exemplo criar um vetor contendo as primeiras letras do alfabeto e outro com os primeiros dias de 2017.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>letras &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>)
&gt;<span class="st"> </span>letras
<span class="co"># [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span>
&gt;<span class="st"> </span>dias &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;01/01/2017&quot;</span>,<span class="dt">format=</span><span class="st">&quot;%d/%m/%Y&quot;</span>),<span class="dt">length.out =</span> <span class="dv">5</span>,<span class="dt">by =</span> <span class="st">&quot;day&quot;</span>)
&gt;<span class="st"> </span>dias
<span class="co"># [1] &quot;2017-01-01&quot; &quot;2017-01-02&quot; &quot;2017-01-03&quot; &quot;2017-01-04&quot; &quot;2017-01-05&quot;</span></code></pre></div>
<p>Não se preocupe caso não tenha ficado claro a sintaxe do vetor <code>dias</code>, mais para frente vamos discutir em maior detalhe datas<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
</div>
<div id="acessando-elementos" class="section level3 unnumbered">
<h3>Acessando elementos</h3>
<p>Acessar elementos específicos de vetores é algo muito útil (acreditem no que eu digo) e fácil, basta utilizar <code>x[i]</code>, onde <code>x</code> é um vetor e <code>i</code> o i-ésimo elemento<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>. No chunk abaixo segue mostro alguns exemplos de como acessar elementos dos vetores</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">10</span>) <span class="co"># criando um vetor x</span>
&gt;<span class="st"> </span>x[<span class="dv">7</span>:<span class="dv">9</span>]       <span class="co"># pegando elementos de 7 a 9</span>
<span class="co"># [1] 7 8 9</span>
&gt;<span class="st"> </span>x[<span class="kw">length</span>(x)] &lt;-<span class="st"> </span><span class="dv">0</span> <span class="co"># substituindo o último elemento por 0</span>
&gt;<span class="st"> </span>y &lt;-<span class="st"> </span>x[<span class="dv">1</span>:<span class="dv">4</span>]</code></pre></div>
<p>A última linha do chunk acima crian um novo vetor <code>y</code> com os 4 primeiros valores do vetor <code>x</code>, ou seja, mais um jeito de se criar vetores.<br />
Mais adiante no livro<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> mostraremos que os filtros utilizados nos dados (como por exemplo selecionar de um banco de dados apenas os pacientes com pressão arterial acima de 140 X 90 mmHg) nada mais é do que acessar elementos do vetores que satisfaçam de terminadas condições.</p>
</div>
<div id="operacoes-vetorizadas" class="section level3 unnumbered">
<h3>Operações Vetorizadas</h3>
<p>Dizer que as operações são vetorizadas é apenas dizer que ao aplicar uma funções em um vetor essa função será aplicada em cada um dos elementos do vetor. Daí inclusive a importância de internamente o R não aceitar vetores com tipos de informação diferentes, pois não faria sentido, por exemplo, efetuar a multiplicação em um vetor que contem letras!! A ideia é bastante simples e intuitiva, porém não custa nada visualizar alguns exemplos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">16</span>,<span class="dv">25</span>,<span class="dv">36</span>,<span class="dv">49</span>,<span class="dv">64</span>,<span class="dv">81</span>)
&gt;<span class="st"> </span><span class="kw">sqrt</span>(a) <span class="co"># sqrt é a raiz quadrada</span>
<span class="co"># [1] 1 2 3 4 5 6 7 8 9</span>
&gt;<span class="st"> </span>a<span class="dv">+1</span>
<span class="co"># [1]  2  5 10 17 26 37 50 65 82</span></code></pre></div>
<p>Perceba que cada vez que uma função é aplicada no vetor ela na verdade é aplicada em cada elemento que compõe o vetor. O último aspecto importante para se introduzir sobre vetores é a reciclagem.</p>
</div>
<div id="reciglagem" class="section level3 unnumbered">
<h3>Reciglagem</h3>
<p>O que você imagina que acontece quando a operação <code>c(1,2)+c(1,1,1,1)</code> é efetuada? O nome da subseção já da uma boa dica. O que acontece é que o vetor de menor comprimento é reciclado, isto é, reutilizado, para que a operação seja efetuada e resultando no seguinte vetor <code>c(2,3,2,3)</code>. Importante salientar que isso ocorre quando comprimento do maior vetor é múltiplo do comprimento do vetor menor, caso não seja este caso será retornado um erro. O chunk abaixo explicita essas duas situações</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>)+<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>)
<span class="co"># [1] 2 3 2 3</span>
&gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>)+<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>)
<span class="co"># Warning in c(1, 1) + c(1, 2, 1, 2, 1): longer object length is not a</span>
<span class="co"># multiple of shorter object length</span>
<span class="co"># [1] 2 3 2 3 2</span></code></pre></div>
</div>
</div>
<div id="matrizes" class="section level2">
<h2><span class="header-section-number">1.3</span> Matrizes</h2>
<p>A segunda estutura apresentada é a matriz, que nada mais é do que uma extensão do vetor para uma dimensão a mais. Colocando de outro jeito uma <strong>matriz é uma estrutura com colunas com o mesmo número de linhas e que armazenam o mesmo tipo de informação</strong>. O leitor provavelmente já se deparou em algum momento da vida com uma matriz do seguinte formato</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> letters[<span class="dv">1</span>:<span class="dv">6</span>],<span class="dt">ncol=</span><span class="dv">3</span>)
<span class="co">#      [,1] [,2] [,3]</span>
<span class="co"># [1,] &quot;a&quot;  &quot;c&quot;  &quot;e&quot; </span>
<span class="co"># [2,] &quot;b&quot;  &quot;d&quot;  &quot;f&quot;</span></code></pre></div>
<p>Assim como foi feito com vetores, vamos mostrar como criar matrizes do zero, como acessar seu elementos e por fim como discutiremos a título de informação, não se preocupem, sobre operações matemática com matrizes.</p>
<div id="criando-matrizes" class="section level3 unnumbered">
<h3>Criando Matrizes</h3>
<p>Para criar matriz utilize a função de nome <code>matrix()</code>, que surpresa, na qual são necessários no mínimo dois argumentos. O argumento <code>data</code> para o qual deve ser passado um vetor que irá popular a matriz e o segundo argumento necessário é ou <code>ncol</code>ou <code>nrow</code>, especificando claramente o número de colunas ou o número de linhas. Perceba que é importante que o vetor passado para <code>data</code> tenha um comprimento compátivel com o número de linhas ou número de colunas. Abaixo tem o exemplo de como criar uma matriz</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matriz_simples &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">25</span>),<span class="dt">nrow =</span> <span class="dv">5</span>,<span class="dt">byrow =</span> <span class="ot">TRUE</span>)
&gt;<span class="st"> </span>matriz_simples
<span class="co">#      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co"># [1,]    1    2    3    4    5</span>
<span class="co"># [2,]    6    7    8    9   10</span>
<span class="co"># [3,]   11   12   13   14   15</span>
<span class="co"># [4,]   16   17   18   19   20</span>
<span class="co"># [5,]   21   22   23   24   25</span></code></pre></div>
<p>O terceiro argumento <code>byrow</code> recebe um valor lógico, e tem como default <code>FALSE</code> e como o nome diz ele indica se a matriz deve ser preenchida por linhas, <code>byrow=TRUE</code> ou por colunas. Perceba que na primeira matriz apresentada nesta seção não tem o esse argumento e por consequência a matriz foi preenchida por colunas.</p>
</div>
<div id="acessando-elementos-1" class="section level3 unnumbered">
<h3>Acessando Elementos</h3>
<p>Como a matriz é uma extensão dos vetores a ideia é a mesma, com a única diferença que é necessário diferenciar o indexador de linha e de coluna. E isso é feito de maneira muito simples e direta com o operador <code>[]</code>, da seguinte maneira: <code>matriz[i,j]</code> onde <code>i</code> denota as linhas e <code>j</code> denota as colunas. Caso quiséssemos pegar somente os elementos das duas primeiras linhas e das duas últimas colunas da <code>matriz_simples</code> uma maneira seria</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matriz_simples[-<span class="kw">c</span>(<span class="dv">3</span>:<span class="dv">5</span>),<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>)]
<span class="co">#      [,1] [,2]</span>
<span class="co"># [1,]    4    5</span>
<span class="co"># [2,]    9   10</span></code></pre></div>
<p>Note que usamos <code>-c(3:5)</code> para indicar que queremos todas as linhas menos as linhas 3, 4, 5. O mesmo poderia ter sido feito para as colunas. Vale destacar uma sutileza importante para compreender a utilização de matrizes no R. Pode haver casos em que desejamos acessar apenas uma coluna (ou linha) específica de uma determinada matriz e acredito que a tentativa mais natural para todos seria algo como <code>matriz_simples[,3]</code>, mas ao executar esse comando no console teríamos como resultado</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matriz_simples[,<span class="dv">3</span>]
<span class="co"># [1]  3  8 13 18 23</span></code></pre></div>
<p>Um vetor! E neste caso teríamos que nos perguntar: Queremos que o resultado da nossa operação (selecionar uma ou coluna especifica) seja um vetor ou uma matriz coluna (ou linha)? Caso a resposta seja um vetor deve ser executado o comando como acima, porém caso não seja esse o caso adicionamos o argumento <code>drop=FALSE</code> fazendo com que a estrutura de matriz seja preservada.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matriz_simples[,<span class="dv">3</span>, drop =<span class="st"> </span>F]
<span class="co">#      [,1]</span>
<span class="co"># [1,]    3</span>
<span class="co"># [2,]    8</span>
<span class="co"># [3,]   13</span>
<span class="co"># [4,]   18</span>
<span class="co"># [5,]   23</span></code></pre></div>
<p>Por fim, note que o resultado de não selecionar nenhuma coluna é selecionar todas as colunas, e o mesmo se aplica para colunas. E neste caso as operações que efetuarmos nas matrizes coluna ou linha serão automaticamente vetorizadas.</p>
</div>
<div id="operacoes-com-matrizes" class="section level3 unnumbered">
<h3>Operações com matrizes</h3>
<p>Vamos aqui mostrar a título de informação algumas operações matemáticas com matrizes. Digo a título de informação, pois constatei na minha experiência que a utilização dessas operações é rara, porém acredito que seja importante saber da existência.</p>
<p>Antes de mostarmos os procedimentos vamos criar duas matrizes para trabalharmos com elas, vamos criativamente chama-las matrix_1 e matrix_2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matrix_1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span>:<span class="dv">6</span>,<span class="dt">ncol =</span> <span class="dv">3</span>)
&gt;<span class="st"> </span>matrix_2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span>:<span class="dv">6</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)</code></pre></div>
<div id="multiplicacao-e-soma" class="section level4 unnumbered">
<h4>Multiplicação e Soma</h4>
<p>De maneira geral podemos nos deparar com dois casos: (i) queremos somar/multiplicar um número com/por uma matriz ou (ii) queremos multiplicar duas matrizes.</p>
<p>Quando nos encontramos no primeiro (somar/multiplicar um número por um matriz) caso basta usar os operadores apresentados na seção <strong>colocar aqui a referencia para a seção R como calculadora</strong> e a operação é aplicada em cada elemento da matrix, como feito no chunk que segue</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="dv">3</span>+matrix_1
<span class="co">#      [,1] [,2] [,3]</span>
<span class="co"># [1,]    4    6    8</span>
<span class="co"># [2,]    5    7    9</span>
&gt;<span class="st"> </span><span class="dv">3</span>*matrix_2
<span class="co">#      [,1] [,2]</span>
<span class="co"># [1,]    3   12</span>
<span class="co"># [2,]    6   15</span>
<span class="co"># [3,]    9   18</span>
&gt;<span class="st"> </span><span class="kw">sqrt</span>(matrix_1)
<span class="co">#          [,1]     [,2]     [,3]</span>
<span class="co"># [1,] 1.000000 1.732051 2.236068</span>
<span class="co"># [2,] 1.414214 2.000000 2.449490</span></code></pre></div>
<p>Já no segundo caso (multiplicar matrizes) temos que colocar o operador <code>*</code> entre <code>%</code>s para que o R entenda que queremos efetuar operações matriciais</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matrix_1 %*%<span class="st"> </span>matrix_2
<span class="co">#      [,1] [,2]</span>
<span class="co"># [1,]   22   49</span>
<span class="co"># [2,]   28   64</span></code></pre></div>
<p>É claro que as matrizes devem ter dimensões vpalidas para que a multiplicação seja efetuada.</p>
</div>
<div id="determinante-transposta-e-inversa" class="section level4 unnumbered">
<h4>Determinante, Transposta e Inversa</h4>
<p>Brevemente vamos apresentar as funções para obtermos o determinante, a transposta e a inversa de uma matriz. Começamos com o determinante que é calculado através da função <code>det()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>matriz &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">4</span>),<span class="dt">ncol=</span><span class="dv">2</span>,<span class="dt">byrow =</span> T)
&gt;<span class="st"> </span><span class="kw">det</span>(matriz)
<span class="co"># [1] -2</span></code></pre></div>
<p>A transposta por sua vez é calculada através da função <code>t()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">t</span>(matriz)
<span class="co">#      [,1] [,2]</span>
<span class="co"># [1,]    1    3</span>
<span class="co"># [2,]    2    4</span></code></pre></div>
<p>E por fim a inversa é obtida através da função <code>solve()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">solve</span>(matriz)
<span class="co">#      [,1] [,2]</span>
<span class="co"># [1,] -2.0  1.0</span>
<span class="co"># [2,]  1.5 -0.5</span></code></pre></div>
<p>Passamos agora para a estrutura chamda de <em>data frame</em>, que funciona com os principios de vetores e matrizes, porém com algumas modificações que a tornam muito útil na prática.</p>
</div>
</div>
</div>
<div id="data-frames" class="section level2">
<h2><span class="header-section-number">1.4</span> Data Frames</h2>
<p>Os data frames possuem a mesma estrutura que uma matriz, isto é, colunas com o mesmo número de linhas. Porém, há duas vantagens de se trabalhar com data frames<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a>: (i) Cada coluna pode contar tipos de informações diferentes e (ii) nomeando as colunas podemos acessar colunas específicas sem precisar saber exatamente a indexação da coluna. Essas duas diferenças tornam os data frames o jeito mais comum de se trabalhar com bases de dados no R. Pois podemos ter diversas variáveis, relacionadas a mesma observação, com tipos de informação diferente em uma mesma estrutura! O leitor atento percebeu que a tabela <a href="estruturas-de-dados.html#tab:empregados">1.1</a> é na verdade um exemplo de data frame, onde cada coluna representa uma variável com tipo diferente de informação.</p>
<p>Para acessar colunas pelo nome utiliza-se o <code>$</code> logo em seguida do nome do data frame. Caso quissésemos acessar só os nomes do nosso data frame de empregados poderíamos fazer da seguinte maneira:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>empregados$Nome
<span class="co">#  [1] &quot;Shannon&quot;   &quot;Shauna&quot;    &quot;Shishan&quot;   &quot;Matthew&quot;   &quot;Taylor&quot;   </span>
<span class="co">#  [6] &quot;Saleet&quot;    &quot;Zuhra&quot;     &quot;Guadalupe&quot; &quot;Shaamila&quot;  &quot;Amniyya&quot;</span></code></pre></div>
<p>O RStudio possui uma ferramenta conveniente para nos ajudar, ao digitar <code>empregados$</code> e em seguida pressionar <code>TAB</code> o RStudio mostrará um menu <em>dropdown</em> com os nomes das colunas do data frame, como mostra a figura <a href="estruturas-de-dados.html#fig:rstudio-dropdown-menu">1.1</a>, de modo que não é necessário sabermos qual o número da coluna em que se encontra a variável de interesse e nem ter que saber de cabeça o nome de todas as variáveis disponíveis no data frame.</p>
<div class="figure" style="text-align: center"><span id="fig:rstudio-dropdown-menu"></span>
<img src="images/_empregados_colunas.png" alt="Menu Dropdown do RStudio" width="682" />
<p class="caption">
Figure 1.1: Menu Dropdown do RStudio
</p>
</div>
<p>Outra utilidade do <code>$</code> quando se tratando de data frames é adicionar novas variáveis ao data frame. Ainda no nosso exemplo do data frame com informações sobre os empregados, poderíamos pensar que foi oferecido aos empregados um treinamento no qual a participação é optativa e depois que o treinamento foi realizado gostaríamos de adicionar uma coluna indicando quais empregados optaram por participar do treinamento. Para facilitar o entendimento vamos supor que os 5 primeiros empregados () optaram por participar do treinamento e os últimos 5 por não participar. Desse modo queremos adicionar uma coluna com o nome de <code>Treinamento</code> que receberá o valor <code>sim</code> caso o empregado tenha participado do treinamento e <code>não</code> caso ele não tenha participado. Isso é feito da seguinte maneira:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>empregados$Treinamento &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;sim&quot;</span>,<span class="dv">5</span>),<span class="kw">rep</span>(<span class="st">&quot;não&quot;</span>,<span class="dv">5</span>))</code></pre></div>
<p>A sintaxe <code>c(rep(&quot;sim&quot;,5),rep(&quot;não&quot;,5))</code> cria um vetor repetindo o termo <code>sim</code> cinco vezes e depois repetindo o termo <code>não</code> também cinco vezes. Agora se verificarmos nosso data frame veremos que a coluna <code>Treinamento</code> adicionada com sucesso.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">str</span>(empregados)
<span class="co"># &#39;data.frame&#39;: 10 obs. of  7 variables:</span>
<span class="co">#  $ Nome         : chr  &quot;Shannon&quot; &quot;Shauna&quot; &quot;Shishan&quot; &quot;Matthew&quot; ...</span>
<span class="co">#  $ Tempo_emprego: int  1 2 3 4 5 6 7 8 9 10</span>
<span class="co">#  $ Setor        : Factor w/ 3 levels &quot;Estrutura&quot;,&quot;Financeiro&quot;,..: 2 1 3 1 3 3 2 1 3 3</span>
<span class="co">#  $ Peso         : num  38.7 42.5 36.8 39.5 48.7 ...</span>
<span class="co">#  $ Nascimento   : Date, format: &quot;1999-01-30&quot; &quot;1999-12-25&quot; ...</span>
<span class="co">#  $ Casado       : logi  FALSE TRUE FALSE FALSE TRUE FALSE ...</span>
<span class="co">#  $ Treinamento  : chr  &quot;sim&quot; &quot;sim&quot; &quot;sim&quot; &quot;sim&quot; ...</span></code></pre></div>
<p>Destaco aqui que não mostro como criar data frame do zero, pois como mencionado no início desta seção, os data frames são muito utilizados para armazenar dados que serão importados para dentro do R <strong>(colocar aqui o capitulo que falará sobre importar dados para o R)</strong> e não digitados no console ou script.</p>
</div>
<div id="listas" class="section level2">
<h2><span class="header-section-number">1.5</span> Listas</h2>
<p>A última estrutura de dados é chamada de lista (ou vetor recursivo). De maneira objetiva a lista é um vetor no qual seus elementos podem ser qualquer outro tipo de estrutura, isto quer dizer que podemos ter uma lista que contém vetor, matrizes, data frames e etc. Perceba que ao passo que data frame tem colunas com o mesmo número de linhas as listas tem elementos que não só podem ter número de linhas diferentes como estruturas de dados diferentes! Se a explicação até agora está um pouco abstrata, não se preocupe pois está será a estrutura que gastaremos mais tempo discutindo, devido a sua grande versatilidade. Antes de entrarmos na discussão mesmo sobre listas vamos apresentar um exemplo de como as listas são realmente úteis e versáteis quando utilizamos o R.</p>

<div class="example">
<span id="exm:unnamed-chunk-21" class="example"><strong>Example 1.1  (Versatilidade da Estrututa Lista)  </strong></span>O objetivo desse exemplo é mostrar uma aplicação de como as listas são usadas dentro R, faremos isso mostrando que ao efetuar uma regressão no R os resultados são armazenados em uma lista. Para tal vamos utilizar o dataset <em>gapminder</em> (disponível no pacote gapminder) que é um excerto sobre dados de expectativa de vida, PIB per capita e população por país. Vamos construir um modelo onde a expectativa de vida depende do PIB percapita e do tamanho da população. A figura <a href="estruturas-de-dados.html#fig:exemplo-versatilidade-lista">1.2</a> o resultado da estimação da regressão. Perceba que o objetdo salvo com o nome de <code>reg</code> é uma lista com 12 elementos e ao executar o código da terceira linha vemos individualmente cada um dos elementos da lista. (Obs: não se preocupe em entender o código da figura, mais para frente <strong>colocar aqui a seção de sregressão</strong> iremos discutir em detalhes como fazer regressão no R).
</div>

<div class="figure" style="text-align: center"><span id="fig:exemplo-versatilidade-lista"></span>
<img src="images/_exemplo_versatilidade_lista.png" alt="Ambiente com objeto regressão" width="683" />
<p class="caption">
Figure 1.2: Ambiente com objeto regressão
</p>
</div>

</div>
</div>










<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Na estatística existem basicamente dois tipos de variáveis cada uma delas com dois subtipos. A primeira é chamada de variáveis qualitativas, que podem assumir valores nominais, por exemplo Nomes, ou assumir valores ordinais, por exemplo dividir peso pena, peso médio etc. O segundo tipo de variável é chamado de variáveis quantitativas, que podem ser intervalos, por exemplo a previsão do tempo quando nos traz temperatura miníma e máxima, ou assumir valore pontuais, como por exemplo a medição do pesos das pessoas<a href="estruturas-de-dados.html#fnref1">↩</a></p></li>
<li id="fn2"><p><strong>colocar aqui depois a seção na qual isso é discutido</strong><a href="estruturas-de-dados.html#fnref2">↩</a></p></li>
<li id="fn3"><p>Ressaltamos para aqueles que são familiares com outro linguagem de programação, como C, a indexação dos vetores no R começa em 1 e não em 0.<a href="estruturas-de-dados.html#fnref3">↩</a></p></li>
<li id="fn4"><p><strong>colocar aqui no final as seções corretas</strong><a href="estruturas-de-dados.html#fnref4">↩</a></p></li>
<li id="fn5"><p>Para aqueles que conhecem um pouco de computação a única desvantagem do data frame em relação a matriz é que as operação feitas com data frames são significativamente mais lentas do que quando feitas com matrizes, isso ocorre devido ao jeti de como as informações são salvas na mémoria do computador<a href="estruturas-de-dados.html#fnref5">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
