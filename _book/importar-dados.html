<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Guia definitivo do R para estudantes de sociais</title>
  <meta name="description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Guia definitivo do R para estudantes de sociais" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados" />
  <meta name="github-repo" content="vinisousa04/livro_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Guia definitivo do R para estudantes de sociais" />
  
  <meta name="twitter:description" content="Esta é a minha tentativa de facilitar, em especial, os alunos de ciências sociais, a desenvolveram habilidades relacionadas ao processo de analise de dados" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="estruturas-de-dados.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #0000ff; } /* Keyword */
code > span.ch { color: #008080; } /* Char */
code > span.st { color: #008080; } /* String */
code > span.co { color: #008000; } /* Comment */
code > span.ot { color: #ff4000; } /* Other */
code > span.al { color: #ff0000; } /* Alert */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #008000; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #008080; } /* SpecialChar */
code > span.vs { color: #008080; } /* VerbatimString */
code > span.ss { color: #008080; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #0000ff; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ff4000; } /* Preprocessor */
code > span.do { color: #008000; } /* Documentation */
code > span.an { color: #008000; } /* Annotation */
code > span.cv { color: #008000; } /* CommentVar */
code > span.at { } /* Attribute */
code > span.in { color: #008000; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#motivacao"><i class="fa fa-check"></i>Motivação</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#organizacao"><i class="fa fa-check"></i>Organização</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-o-autor"><i class="fa fa-check"></i>Sobre o autor</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimentos"><i class="fa fa-check"></i>Agradecimentos</a></li>
</ul></li>
<li class="part"><span><b>I Introdução ao Mundo R</b></span></li>
<li class="chapter" data-level="1" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html"><i class="fa fa-check"></i><b>1</b> R e RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#o_que_sao"><i class="fa fa-check"></i><b>1.1</b> O que são</a></li>
<li class="chapter" data-level="1.2" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#layout_rstudio"><i class="fa fa-check"></i><b>1.2</b> <em>Layout</em> do RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#funcionamento_do_codigo"><i class="fa fa-check"></i><b>1.4</b> Funcionamento do Código</a></li>
<li class="chapter" data-level="1.5" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#working_directory"><i class="fa fa-check"></i><b>1.5</b> <em>Working Directory</em> (ou pasta de trabalho)</a></li>
<li class="chapter" data-level="1.6" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#pacotes"><i class="fa fa-check"></i><b>1.6</b> Pacotes (ou <em>libraries</em>)</a><ul>
<li class="chapter" data-level="" data-path="r-e-rStudio.html"><a href="r-e-rStudio.html#pacotes-do-github"><i class="fa fa-check"></i>Pacotes do GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html"><i class="fa fa-check"></i><b>2</b> Primeiros Comandos no R</a><ul>
<li class="chapter" data-level="2.1" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html#r-como-calculadora"><i class="fa fa-check"></i><b>2.1</b> R como calculadora</a></li>
<li class="chapter" data-level="2.2" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html#Workspace-Environment"><i class="fa fa-check"></i><b>2.2</b> <em>Workspace/Environment</em></a></li>
<li class="chapter" data-level="2.3" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html#funcoes"><i class="fa fa-check"></i><b>2.3</b> Funções</a></li>
<li class="chapter" data-level="2.4" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html#ajuda-e-documentacao"><i class="fa fa-check"></i><b>2.4</b> Ajuda e documentação</a><ul>
<li class="chapter" data-level="2.4.1" data-path="primeiros-comandos-no-R.html"><a href="primeiros-comandos-no-R.html#erros-mensagens-e-avisos"><i class="fa fa-check"></i><b>2.4.1</b> Erros, Mensagens e Avisos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html"><i class="fa fa-check"></i><b>3</b> Estruturas de Dados</a><ul>
<li class="chapter" data-level="3.1" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#tipos_de_dados"><i class="fa fa-check"></i><b>3.1</b> Tipos de dados</a></li>
<li class="chapter" data-level="3.2" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#vetores"><i class="fa fa-check"></i><b>3.2</b> Vetores</a><ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#criando-vetores"><i class="fa fa-check"></i>Criando Vetores</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#acessando-elementos"><i class="fa fa-check"></i>Acessando elementos</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#operacoes-vetorizadas"><i class="fa fa-check"></i>Operações Vetorizadas</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#reciglagem"><i class="fa fa-check"></i>Reciglagem</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#matrizes"><i class="fa fa-check"></i><b>3.3</b> Matrizes</a><ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#criando-matrizes"><i class="fa fa-check"></i>Criando Matrizes</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#acessando-elementos-1"><i class="fa fa-check"></i>Acessando Elementos</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#operacoes-com-matrizes"><i class="fa fa-check"></i>Operações com matrizes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#data-frames"><i class="fa fa-check"></i><b>3.4</b> Data Frames</a></li>
<li class="chapter" data-level="3.5" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#listas"><i class="fa fa-check"></i><b>3.5</b> Listas</a><ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#criando-listas"><i class="fa fa-check"></i>Criando listas</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#acessando-elementos-das-listas"><i class="fa fa-check"></i>Acessando elementos das listas</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#resumo-melhorar-nome"><i class="fa fa-check"></i><b>3.6</b> resumo (melhorar nome)</a></li>
</ul></li>
<li class="part"><span><b>II Dados</b></span></li>
<li class="chapter" data-level="4" data-path="importar-dados.html"><a href="importar-dados.html"><i class="fa fa-check"></i><b>4</b> Importar dados para o R</a><ul>
<li class="chapter" data-level="4.1" data-path="importar-dados.html"><a href="importar-dados.html#importar-dados-locais"><i class="fa fa-check"></i><b>4.1</b> Importar dados locais</a></li>
<li class="chapter" data-level="4.2" data-path="importar-dados.html"><a href="importar-dados.html#importando-dados-da-internet"><i class="fa fa-check"></i><b>4.2</b> Importando Dados da Internet</a><ul>
<li class="chapter" data-level="4.2.1" data-path="importar-dados.html"><a href="importar-dados.html#pacote-rbcb"><i class="fa fa-check"></i><b>4.2.1</b> Pacote <strong>rbcb</strong></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Guia definitivo do R para estudantes de sociais</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importar_dados" class="section level1">
<h1><span class="header-section-number">4</span> Importar dados para o R</h1>
<p>É possível importar dados para nosso <em>environment</em> de duas principais maneiras, sendo a primeira imporar um arquivo que esteja salvo no computador e a segunda importar dados da internet. As subseções seguintes apresentam tais maneiras ao leitor.</p>
<div id="importar-dados-locais" class="section level2">
<h2><span class="header-section-number">4.1</span> Importar dados locais</h2>
<p>A primeira maneira é importar dados que estão salvos em nosso computador. Aqui é importante saber qual o formato do arquivo. Os formatos mais provavéis que você irá encontrar são: (i) Arquivo no formato de excel separado por vígulas (caso tenha uma planilha em arquivo excel que não no formato .csv recomendo que salve-a no formato .csv); (ii) Arquivos do <em>software</em> stata; (iii) Arquivos do <em>softaware</em> SPSS.</p>
<p>A figura <a href="importar-dados.html#fig:importar-locais">4.1</a> mostra o <em>working directory</em> com arquivos dos três tipos e para torna-los dísponíveis em nosso <em>enviroment</em> basta usarmos as funções <code>read.csv()</code>, <code>read.dta13()</code> e <code>read.spss()</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:importar-locais"></span>
<img src="images/_importar_dados_locais.png" alt="Working Directory" width="684" />
<p class="caption">
Figure 4.1: Working Directory
</p>
</div>
<p>Para usar as funções relacionadas ao Stata (<code>read.dta()</code>) e a relacionada ao SPSS (<code>read.spss()</code>) são necessários os pacotes <code>foreign</code> e <code>readstata13</code>. Tendo eles basta usarmos as funções da seguinte forma:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>dados_csv &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;dados csv.csv&quot;</span>)
&gt;<span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>dados_stata &lt;-<span class="st"> </span><span class="kw">read.dta13</span>(<span class="st">&quot;dados stata.dta&quot;</span>)
&gt;<span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>dados_spss &lt;-<span class="st"> </span><span class="kw">read.spss</span>(<span class="st">&quot;dados spss.sav&quot;</span>,<span class="dt">to.data.frame=</span>T)</code></pre></div>
<p>Note que no arquivo do SPSS utilizamos o argumento <code>to.data.frame = T</code> para que os dados sejam importados como <em>data frame</em>, caso seja omitido os dados serão importados em forma lista. Agora pode-se obervar que os objetos foram criados e encontram-se em nosso <em>enviroment</em>, como a figura <a href="importar-dados.html#fig:importado-locais">4.2</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:importado-locais"></span>
<img src="images/_importando_locais_rstudio.png" alt="Environment depois de importar dados" width="684" />
<p class="caption">
Figure 4.2: Environment depois de importar dados
</p>
</div>
</div>
<div id="importando-dados-da-internet" class="section level2">
<h2><span class="header-section-number">4.2</span> Importando Dados da Internet</h2>
<p>Voltamos nossa atenção agora para como importar dados da internet para dentro do RStudio. Há mais de uma maneira de fazer isso, porém aqui será focamos na utilização de pacotes que nos permitem acessar dados do Banco Central do Brasil, IBGE etc.</p>
<div id="pacote-rbcb" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Pacote <strong>rbcb</strong></h3>
<p>O pacote rbcb é uma interface que liga o R ao sistema gerenciador de séries temporais do Banco Central do Brasil. Através deles podemos acessar as séries encontradas no sistema. A principal função do pacote é a <code>get_series()</code> que permite você importar diretamente para o <em>environment</em> uma série para determinado período.</p>
<p>Para mostrar como utilizar a função vamos importar a série do percentual da carteira com atraso de 15 a 90 dias de pessoas físicas para o ano de 2017, isto é feito no chunk abaixo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">library</span>(rbcb)
&gt;<span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>serie &lt;-<span class="st"> </span><span class="kw">get_series</span>(<span class="dt">code =</span> <span class="dv">21005</span>, <span class="dt">start_date =</span> <span class="st">&quot;2017-01-01&quot;</span>,<span class="dt">end_date =</span> <span class="st">&quot;2017-12-31&quot;</span>,<span class="dt">as =</span> <span class="st">&quot;data.frame&quot;</span>)</code></pre></div>
<p>O primeiro argumento da função, <code>code=</code>, indica o número da série que você deseja importar. Talvez esse seja o maior impecílio do pacote, ainda é necessário acessar o Sistema de Genrenciador de Séries Temporais para obter o número da série. Neste caso o código 21005 é o referente a série “Percentual da carteira com atraso entre 15 e 90 dias - Pessoas físicas - Total”. O segundo argumento, <code>start_date=</code>, indica desde quando você quer buscar a série e neste caso foi escolhido janeiro de 2017, isto é, <code>&quot;2017-01-01&quot;</code>. O penúltimo argumento, <code>end_date=</code>, indica até quando você quer a série e nesse caso foi escolhido dezembro de 2017, isto é, <code>&quot;2017-12-31&quot;</code>. Por fim, o argumento <code>as</code> indica qual a estrutura de dados que desejamos importar os dados e, como pode ser facilmente deduzido, escolhemos importar os dados como um <em>data frame</em>.</p>
<p>Certo, após executar essa linha de código qual o resultado você pode estar se perguntando. A figura <a href="importar-dados.html#fig:rbcb">4.3</a> responde a pergunta.</p>
<div class="figure" style="text-align: center"><span id="fig:rbcb"></span>
<img src="images/_rbcb.png" alt="Usando pacote rbcb" width="684" />
<p class="caption">
Figure 4.3: Usando pacote rbcb
</p>
</div>
<p>Nela vemos que há o objeto no <em>environment</em> e no console vemos que esse <em>data frame</em> nos trás a data referente ao dado e o dado em si.</p>

<div id="refs" class="references">
<div>
<p>Abadie, Alberto, Alexis Diamond, and Jens Hainmueller. 2010. “Synthetic Control Methods for Comparative Case Studies: Estimating the Effect of California’s Tobacco Control Program.” <em>Journal of the American Statistical Association</em> 105 (490). Taylor &amp; Francis: 493–505.</p>
</div>
<div>
<p>Matloff, Norman. 2011. <em>The Art of R Programming: A Tour of Statistical Software Design</em>. No Starch Press.</p>
</div>
</div>
</div>
</div>
</div>


















            </section>

          </div>
        </div>
      </div>
<a href="estruturas-de-dados.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
